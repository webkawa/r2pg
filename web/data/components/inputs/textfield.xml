<?xml version="1.0" encoding="UTF-8"?>
<component xmlns:xsi="http://www.w3.org/1001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../../models/components.xsd"
         type="classic" 
         name="InputTextfield" >
    
    <selectors>
        <selector id="wrapper">div.wrapper</selector>
        <selector id="header">div.wrapper > div.header</selector>
        <selector id="label">div.wrapper > div.header > label</selector>
        <selector id="description">div.wrapper > div.header > span</selector>
        <selector id="field">div.wrapper > div.input > input</selector>
        <selector id="icon">div.wrapper > div.input > div.icon</selector>
        <selector id="info">div.wrapper > div.info</selector>
    </selectors>
    <loader>
        <dom>
            <![CDATA[
                <div class="wrapper">
                    <div class="header">
                        <label></label>
                        <span></span>
                    </div>
                    <div class="input">
                        <input type="textfield" />
                        <div class="icon" />
                    </div>
                    <div class="info"></div>
                </div> 
            ]]>
        </dom>
        <to>Initial</to>
    </loader>
    <waiter>Waiting</waiter>
    <state id="Initial">
        <trigger bind="focus">
            <target>field</target>
            <action call="go">
                <parameter>Focus</parameter>
            </action>
        </trigger>
        <in>
            <target>wrapper</target>
            <pre call="init" />
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
        </in>
    </state>
    <state id="Focus">
        <trigger bind="blur">
            <target>field</target>
            <action call="check" />
        </trigger>
        <in>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
            <conclude call="checkblur" />
        </in>
        <in from="Waiting">
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
            <conclude call="agree" /> 
        </in>
        <out>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>1</from>
                    <to>0</to>
                </move>
            </animation>
        </out>
    </state>
    <state id="OK">
        <trigger bind="focus">
            <target>field</target>
            <action call="go">
                <parameter>Focus</parameter>
            </action>
        </trigger>
        <in>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
        </in>
        <out>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>1</from>
                    <to>0</to>
                </move>
            </animation>
        </out>
    </state>
    <state id="KO">
        <trigger bind="focus">
            <target>field</target>
            <action call="go">
                <parameter>Focus</parameter>
            </action>
        </trigger>
        <in>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
        </in>
        <in>
            <target>info</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
        </in>
        <out>
            <target>info</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>1</from>
                    <to>0</to>
                </move>
            </animation>
        </out>
        <out>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>1</from>
                    <to>0</to>
                </move>
            </animation>
        </out>
    </state>
    <state id="Waiting">
        <in>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>0</from>
                    <to>1</to>
                </move>
            </animation>
        </in>
        <out>
            <target>icon</target>
            <animation>
                <speed>100</speed>
                <easing>swing</easing>
                <move>
                    <property>opacity</property>
                    <from>1</from>
                    <to>0</to>
                </move>
            </animation>
        </out>
    </state>
    
</component>
